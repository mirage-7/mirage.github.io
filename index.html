<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <div class="index-content">
        <header class="index-header white">
            <div class="flex ai-center">
                <h5 class="f-40">xxx的家</h5>
                <img class="down-icon ml-12" src="./images/down_2_icon.png" alt="">
            </div>
             <p class="f-28 show-btn">12台设备</p>
            <button class="add-btn">
                <img src="./images/add_icon.png" alt="">
            </button>

        </header>

        <nav class="index-nav f-28 c-gray f-weight">
            <p class="nav-active">全部</p>
            <p>客厅</p>
            <p>卧室</p>
            <p>厨房</p>
            <p>卫生间</p>
            <p>阳台</p>
            <img src="./images/down_1_icon.png" alt="">
        </nav>

        <div class="block-list flex fl-wrap">
            <!-- <div class="block-icon">
                <div class="flex f-weight j-s-b">
                    <p class="f-28 black-1">环境检测</p>
                    <p class="f-24 gray-90">客厅</p>
                </div>

                <div class="flex j-s-b al-center mt-40">
                    <img class="source" src="./images/furnishing_1.png" alt="">
                    <div class="f-weight">
                        <p class="f-50">52 <span class="blue-1 f-26">良好</span></p>
                        <p class="f-24 gray-90">PM2.5/h</p>
                    </div>
                </div>
            </div>
            <div class="block-icon">
                <div class="flex f-weight j-s-b">
                    <p class="f-28 black-1">智能插座</p>
                    <p class="f-24 gray-90">厨房</p>
                </div>

                <div class="flex j-s-b al-center mt-40">
                    <img class="source" src="./images/furnishing_2.png" alt="">
                    <div class="close-btn">
                        <img src="./images/close_2_icon.png" alt="">
                    </div>
                </div>
            </div>
            <div class="block-icon">
                <div class="flex f-weight j-s-b">
                    <p class="f-28 black-1">智能插座</p>
                    <p class="f-24 gray-90">厨房</p>
                </div>

                <div class="flex j-s-b al-center mt-40">
                    <img class="source" src="./images/furnishing_2.png" alt="">
                    <div class="close-btn">
                        <img src="./images/close_2_icon.png" alt="">
                    </div>
                </div>
            </div>

            <div class="block-icon">
                <div class="flex f-weight j-s-b">
                    <p class="f-28 black-1">智能插座</p>
                    <p class="f-24 gray-90">厨房</p>
                </div>

                <div class="flex j-s-b al-center mt-40">
                    <img class="source" src="./images/furnishing_2.png" alt="">
                    <div class="close-btn">
                        <img src="./images/close_2_icon.png" alt="">
                    </div>
                </div>
            </div>

            <div class="block-icon">
                <div class="flex f-weight j-s-b">
                    <p class="f-28 black-1">智能插座</p>
                    <p class="f-24 gray-90">厨房</p>
                </div>

                <div class="flex j-s-b al-center mt-40">
                    <img class="source" src="./images/furnishing_2.png" alt="">
                    <div class="close-btn">
                        <img src="./images/close_2_icon.png" alt="">
                    </div>
                </div>
            </div>

            <div class="block-icon">
                <div class="flex f-weight j-s-b">
                    <p class="f-28 black-1">智能插座</p>
                    <p class="f-24 gray-90">厨房</p>
                </div>

                <div class="flex j-s-b al-center mt-40">
                    <img class="source" src="./images/furnishing_2.png" alt="">
                    <div class="close-btn is-open">
                        <img src="./images/close_1_icon.png" alt="">
                    </div>
                </div>
            </div> -->

        </div>

    </div>

    <!-- 底部tab -->
    <div class="footer fl-ar">
        <a href="#">
            <img src="./images/home-a.png" alt="">
            <p class="blue-1">首页</p>
        </a>
        <a href="./device.html">
            <img src="./images/shebei-n.png" alt="">
            <p>设备</p>
        </a>
        <a href="./mine.html">
            <img src="./images/wode-n.png" alt="">
            <p>我的</p>
        </a>
    </div>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="./js/template-web.js"></script>

    <!-- 定模板 -->
     <script id="tpl" type="text/html">

        {{each data}}
        <div class="block-icon">
            <div class="flex f-weight j-s-b">
                <p class="f-28 black-1">{{$value.title}}</p>
                <p class="f-24 gray-90">{{$value.pos}}</p>
            </div>

            <div class="flex j-s-b al-center mt-40">
                <img class="source" src="{{$value.source}}" alt="">
                {{if $value.info}}
                <div class="f-weight">
                    <p class="f-50">{{$value.info.PM2dot5}} <span class="blue-1 f-26">{{$value.info.level}}</span></p>
                    <p class="f-24 gray-90">PM2.5/h</p>
                </div>
                {{else}}
                <div class="close-btn {{$value.status ? 'is-open' : ''}}">
                    <img src="{{$value.status ? './images/close_1_icon.png' : './images/close_2_icon.png'}}" alt="">
                </div>
                {{/if}}
            </div>
        </div>
        {{/each}}


     </script>

    <script>
        //引入jquery
        $.ajax({
            //请求的地址
            url:"./data/data.json",
            //请求的方式
            method:"get",
            //请求成功的回调函数
            success:function(res){
                console.log(res);
                render(res)
            }
        })

        function render(res){
            var html=template("tpl",res)
            $('.block-list').html(html)
        }
    </script>
</body>
</html>